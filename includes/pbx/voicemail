<h1 id='voicemail' class='h1 font-weight-light'>Voicemail</h1><h2 id='get-voicemails' class='h2 font-weight-light'>Get Voicemails</h2><div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="nt">-L</span> <span class="nt">-X</span> GET <span class="s1">'https://{{API_HOST}}/v1/voicemail'</span> <span class="se">\</span>
<span class="nt">-H</span> <span class="s1">'Content-Type: application/json'</span> <span class="se">\</span>
<span class="nt">-H</span> <span class="s1">'Authorization: Bearer {{TOKEN}}'</span>
</code></pre></div>
<blockquote>
<p>Response trả về:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"aaaaaaaa-1111-2222-3333-eeeeeeee"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"extension"</span><span class="p">:</span><span class="w"> </span><span class="s2">"101"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"password"</span><span class="p">:</span><span class="w"> </span><span class="s2">"abc123def"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"mail_to"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
      </span><span class="nl">"local_after_email"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
      </span><span class="nl">"enabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
      </span><span class="nl">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"For Tech"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"aaaaaaaa-1111-2222-3333-ffffffff"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"extension"</span><span class="p">:</span><span class="w"> </span><span class="s2">"102"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"password"</span><span class="p">:</span><span class="w"> </span><span class="s2">"abc123def"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"mail_to"</span><span class="p">:</span><span class="w"> </span><span class="s2">"tech@tel4vn.com"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"local_after_email"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
      </span><span class="nl">"enabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
      </span><span class="nl">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"For Tech"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="nl">"limit"</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w">
  </span><span class="nl">"offset"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="nl">"total"</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h3 id='http-request' class='h3 font-weight-light'>HTTP Request</h3>
<p><code>GET https://{{API_HOST}}/v1/voicemail</code></p>
<h3 id='query-parameters' class='h3 font-weight-light'>Query Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
<th>Example</th>
</tr>
</thead><tbody>
<tr>
<td>limit</td>
<td>Số lượng record trả về</td>
<td>50</td>
</tr>
<tr>
<td>offset</td>
<td>Vị trí bắt đầu khi query</td>
<td>0</td>
</tr>
</tbody></table>
<h2 id='get-voicemail-by-id-or-extension' class='h2 font-weight-light'>Get Voicemail By Id or Extension</h2><div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="nt">-L</span> <span class="nt">-X</span> GET <span class="s1">'https://{{API_HOST}}/v1/voicemail/aaaaaaaa-1111-2222-3333-eeeeeeee'</span> <span class="se">\</span>
<span class="nt">-H</span> <span class="s1">'Content-Type: application/json'</span> <span class="se">\</span>
<span class="nt">-H</span> <span class="s1">'Authorization: Bearer {{TOKEN}}'</span>
</code></pre></div>
<blockquote>
<p>Response trả về:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"aaaaaaaa-1111-2222-3333-eeeeeeee"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"extension"</span><span class="p">:</span><span class="w"> </span><span class="s2">"101"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"password"</span><span class="p">:</span><span class="w"> </span><span class="s2">"abc123def"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"mail_to"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
  </span><span class="nl">"local_after_email"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="nl">"enabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="nl">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"For Tech"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h3 id='http-request-2' class='h3 font-weight-light'>HTTP Request</h3>
<p><code>GET https://{{API_HOST}}/v1/voicemail/{{id}}</code></p>
<h3 id='query-parameters-2' class='h3 font-weight-light'>Query Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>Id hoặc Extension</td>
</tr>
</tbody></table>
<h2 id='insert-voicemail' class='h2 font-weight-light'>Insert Voicemail</h2><div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="nt">-L</span> <span class="nt">-X</span> POST <span class="s1">'https://{{API_HOST}}/v1/voicemail'</span> <span class="se">\</span>
<span class="nt">-H</span> <span class="s1">'Content-Type: application/json'</span> <span class="se">\</span>
<span class="nt">-H</span> <span class="s1">'Authorization: Bearer {{TOKEN}}'</span>
<span class="nt">--data-raw</span> <span class="s1">'{
    "extension": "102",
    "password": "abc123def",
    "mail_to": "tech@tel4vn.com",
    "local_after_email": true,
    "enabled": true,
    "description": "For Tech"
}'</span>
</code></pre></div>
<blockquote>
<p>Response trả về:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"aaaaaaaa-1111-2222-3333-ffffffff"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"extension"</span><span class="p">:</span><span class="w"> </span><span class="s2">"102"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"password"</span><span class="p">:</span><span class="w"> </span><span class="s2">"abc123def"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"mail_to"</span><span class="p">:</span><span class="w"> </span><span class="s2">"tech@tel4vn.com"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"local_after_email"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nl">"enabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nl">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"For Tech"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"successfully"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h3 id='http-request-3' class='h3 font-weight-light'>HTTP Request</h3>
<p><code>POST https://{{API_HOST}}/v1/voicemail</code></p>
<h3 id='body' class='h3 font-weight-light'>Body</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
<th>Required</th>
</tr>
</thead><tbody>
<tr>
<td>extension</td>
<td>Extension</td>
<td>x</td>
</tr>
<tr>
<td>password</td>
<td>Mật khẩu voicemail</td>
<td>x</td>
</tr>
<tr>
<td>enabled</td>
<td>true hoặc false</td>
<td>x</td>
</tr>
<tr>
<td>local_after_email</td>
<td>Lưu file âm thanh sau khi gửi mail (true hoặc false)</td>
<td></td>
</tr>
<tr>
<td>mail_to</td>
<td>Email nhận khi có voicemail</td>
<td></td>
</tr>
<tr>
<td>description</td>
<td>Mô tả nếu có</td>
<td></td>
</tr>
</tbody></table>
<h2 id='update-voicemail' class='h2 font-weight-light'>Update Voicemail</h2><div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="nt">-L</span> <span class="nt">-X</span> PUT <span class="s1">'https://{{API_HOST}}/v1/voicemail/{{id}}'</span> <span class="se">\</span>
<span class="nt">-H</span> <span class="s1">'Content-Type: application/json'</span> <span class="se">\</span>
<span class="nt">-H</span> <span class="s1">'Authorization: Bearer {{TOKEN}}'</span> <span class="se">\</span>
<span class="nt">--data-raw</span> <span class="s1">'{
    "password": "abc123def",
    "mail_to": "tech@tel4vn.com",
    "local_after_email": true,
    "enabled": true,
    "description": "For Tech"
}'</span>
</code></pre></div>
<blockquote>
<p>Response trả về:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"successfully"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h3 id='http-request-4' class='h3 font-weight-light'>HTTP Request</h3>
<p><code>PUT https://{{API_HOST}}/v1/voicemail/{{id}}</code></p>
<h3 id='query-parameters-3' class='h3 font-weight-light'>Query Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>Id hoặc Extension</td>
</tr>
</tbody></table>
<h3 id='body-2' class='h3 font-weight-light'>Body</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
<th>Required</th>
</tr>
</thead><tbody>
<tr>
<td>password</td>
<td>Mật khẩu voicemail</td>
<td>x</td>
</tr>
<tr>
<td>enabled</td>
<td>true hoặc false</td>
<td>x</td>
</tr>
<tr>
<td>local_after_email</td>
<td>Lưu file âm thanh sau khi gửi mail (true hoặc false)</td>
<td></td>
</tr>
<tr>
<td>mail_to</td>
<td>Email nhận khi có voicemail</td>
<td></td>
</tr>
<tr>
<td>description</td>
<td>Mô tả nếu có</td>
<td></td>
</tr>
</tbody></table>
<h2 id='remove-voicemail' class='h2 font-weight-light'>Remove Voicemail</h2><div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="nt">-L</span> <span class="nt">-X</span> DELETE <span class="s1">'https://{{API_HOST}}/v1/voicemail/{{id}}'</span> <span class="se">\</span>
<span class="nt">-H</span> <span class="s1">'Content-Type: application/json'</span> <span class="se">\</span>
<span class="nt">-H</span> <span class="s1">'Authorization: Bearer {{TOKEN}}'</span>
</code></pre></div>
<blockquote>
<p>Response trả về:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"successfully"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h3 id='http-request-5' class='h3 font-weight-light'>HTTP Request</h3>
<p><code>DELETE https://{{API_HOST}}/v1/voicemail/{{id}}</code></p>
<h3 id='query-parameters-4' class='h3 font-weight-light'>Query Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>Id hoặc Extension</td>
</tr>
</tbody></table>
<h2 id='get-voicemail-messages' class='h2 font-weight-light'>Get Voicemail Messages</h2><div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="nt">-L</span> <span class="nt">-X</span> GET <span class="s1">'https://{{API_HOST}}/v1/voicemail/message'</span> <span class="se">\</span>
<span class="nt">-H</span> <span class="s1">'Content-Type: application/json'</span> <span class="se">\</span>
<span class="nt">-H</span> <span class="s1">'Authorization: Bearer {{TOKEN}}'</span>
</code></pre></div>
<blockquote>
<p>Response trả về:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"aaaaaaaa-1111-2222-3333-eeeeeeee"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2021-08-27T11:13:44+07:00"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"caller_id_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0891234567"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"caller_id_number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0891234567"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"duration"</span><span class="p">:</span><span class="w"> </span><span class="mi">7</span><span class="p">,</span><span class="w">
      </span><span class="nl">"extension"</span><span class="p">:</span><span class="w"> </span><span class="s2">"101"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"download_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://pbx01.tel4vn.com/v1/voicemail/message/aaaaaaaa-1111-2222-3333-eeeeeeee/download"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"aaaaaaaa-2222-2222-3333-ffffffff"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2021-08-27T15:13:44+07:00"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"caller_id_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0891234567"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"caller_id_number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0891234567"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"duration"</span><span class="p">:</span><span class="w"> </span><span class="mi">120</span><span class="p">,</span><span class="w">
      </span><span class="nl">"extension"</span><span class="p">:</span><span class="w"> </span><span class="s2">"102"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"download_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://pbx01.tel4vn.com/v1/voicemail/message/aaaaaaaa-2222-2222-3333-ffffffff/download"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="nl">"limit"</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w">
  </span><span class="nl">"offset"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="nl">"total"</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h3 id='http-request-6' class='h3 font-weight-light'>HTTP Request</h3>
<p><code>GET https://{{API_HOST}}/v1/voicemail/message</code></p>
<h3 id='query-parameters-5' class='h3 font-weight-light'>Query Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
<th>Example</th>
</tr>
</thead><tbody>
<tr>
<td>limit</td>
<td>Số lượng record trả về</td>
<td>50</td>
</tr>
<tr>
<td>offset</td>
<td>Vị trí bắt đầu khi query</td>
<td>0</td>
</tr>
<tr>
<td>extension</td>
<td>Tìm theo extension</td>
<td>101</td>
</tr>
</tbody></table>
<h2 id='get-voicemail-message-by-id' class='h2 font-weight-light'>Get Voicemail Message By Id</h2><div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="nt">-L</span> <span class="nt">-X</span> GET <span class="s1">'https://{{API_HOST}}/v1/voicemail/message/aaaaaaaa-1111-2222-3333-eeeeeeee'</span> <span class="se">\</span>
<span class="nt">-H</span> <span class="s1">'Content-Type: application/json'</span> <span class="se">\</span>
<span class="nt">-H</span> <span class="s1">'Authorization: Bearer {{TOKEN}}'</span>
</code></pre></div>
<blockquote>
<p>Response trả về:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"aaaaaaaa-1111-2222-3333-eeeeeeee"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2021-08-27T11:13:44+07:00"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"caller_id_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0891234567"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"caller_id_number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0891234567"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"duration"</span><span class="p">:</span><span class="w"> </span><span class="mi">120</span><span class="p">,</span><span class="w">
  </span><span class="nl">"extension"</span><span class="p">:</span><span class="w"> </span><span class="s2">"102"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"download_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://pbx01.tel4vn.com/v1/voicemail/message/aaaaaaaa-1111-2222-3333-ffffffff/download"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h3 id='http-request-7' class='h3 font-weight-light'>HTTP Request</h3>
<p><code>GET https://{{API_HOST}}/v1/voicemail/message/{{id}}</code></p>
<h3 id='query-parameters-6' class='h3 font-weight-light'>Query Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>Id hoặc Extension</td>
</tr>
</tbody></table>
