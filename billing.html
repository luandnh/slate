<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <title>Billing API - TEL4VN</title>
    <script type="text/javascript" id="www-widgetapi-script" src="https://www.youtube.com/s/player/9216d1f7/www-widgetapi.vflset/www-widgetapi.js" async></script>
    <link rel="stylesheet" href="css/style-e2699949.css">
    <style media="screen">
      .highlight table td { padding: 5px; }
.highlight table pre { margin: 0; }
.highlight .gh {
  color: #999999;
}
.highlight .sr {
  color: #f6aa11;
}
.highlight .go {
  color: #888888;
}
.highlight .gp {
  color: #555555;
}
.highlight .gs {
}
.highlight .gu {
  color: #aaaaaa;
}
.highlight .nb {
  color: #f6aa11;
}
.highlight .cm {
  color: #75715e;
}
.highlight .cp {
  color: #75715e;
}
.highlight .c1 {
  color: #75715e;
}
.highlight .cs {
  color: #75715e;
}
.highlight .c, .highlight .ch, .highlight .cd, .highlight .cpf {
  color: #75715e;
}
.highlight .err {
  color: #960050;
}
.highlight .gr {
  color: #960050;
}
.highlight .gt {
  color: #960050;
}
.highlight .gd {
  color: #49483e;
}
.highlight .gi {
  color: #49483e;
}
.highlight .ge {
  color: #49483e;
}
.highlight .kc {
  color: #66d9ef;
}
.highlight .kd {
  color: #66d9ef;
}
.highlight .kr {
  color: #66d9ef;
}
.highlight .no {
  color: #66d9ef;
}
.highlight .kt {
  color: #66d9ef;
}
.highlight .mf {
  color: #ae81ff;
}
.highlight .mh {
  color: #ae81ff;
}
.highlight .il {
  color: #ae81ff;
}
.highlight .mi {
  color: #ae81ff;
}
.highlight .mo {
  color: #ae81ff;
}
.highlight .m, .highlight .mb, .highlight .mx {
  color: #ae81ff;
}
.highlight .sc {
  color: #ae81ff;
}
.highlight .se {
  color: #ae81ff;
}
.highlight .ss {
  color: #ae81ff;
}
.highlight .sd {
  color: #e6db74;
}
.highlight .s2 {
  color: #e6db74;
}
.highlight .sb {
  color: #e6db74;
}
.highlight .sh {
  color: #e6db74;
}
.highlight .si {
  color: #e6db74;
}
.highlight .sx {
  color: #e6db74;
}
.highlight .s1 {
  color: #e6db74;
}
.highlight .s, .highlight .sa, .highlight .dl {
  color: #e6db74;
}
.highlight .na {
  color: #a6e22e;
}
.highlight .nc {
  color: #a6e22e;
}
.highlight .nd {
  color: #a6e22e;
}
.highlight .ne {
  color: #a6e22e;
}
.highlight .nf, .highlight .fm {
  color: #a6e22e;
}
.highlight .vc {
  color: #ffffff;
}
.highlight .nn {
  color: #ffffff;
}
.highlight .ni {
  color: #ffffff;
}
.highlight .bp {
  color: #ffffff;
}
.highlight .vg {
  color: #ffffff;
}
.highlight .vi {
  color: #ffffff;
}
.highlight .nv, .highlight .vm {
  color: #ffffff;
}
.highlight .w {
  color: #ffffff;
}
.highlight {
  color: #ffffff;
}
.highlight .n, .highlight .py, .highlight .nx {
  color: #ffffff;
}
.highlight .nl {
  color: #f92672;
}
.highlight .ow {
  color: #f92672;
}
.highlight .nt {
  color: #f92672;
}
.highlight .k, .highlight .kv {
  color: #f92672;
}
.highlight .kn {
  color: #f92672;
}
.highlight .kp {
  color: #f92672;
}
.highlight .o {
  color: #f92672;
}
    </style>
    <style media="print">
      * {
        -webkit-transition:none!important;
        transition:none!important;
      }
      .highlight table td { padding: 5px; }
.highlight table pre { margin: 0; }
.highlight, .highlight .w {
  color: #586e75;
}
.highlight .err {
  color: #002b36;
  background-color: #dc322f;
}
.highlight .c, .highlight .ch, .highlight .cd, .highlight .cm, .highlight .cpf, .highlight .c1, .highlight .cs {
  color: #657b83;
}
.highlight .cp {
  color: #b58900;
}
.highlight .nt {
  color: #b58900;
}
.highlight .o, .highlight .ow {
  color: #93a1a1;
}
.highlight .p, .highlight .pi {
  color: #93a1a1;
}
.highlight .gi {
  color: #859900;
}
.highlight .gd {
  color: #dc322f;
}
.highlight .gh {
  color: #268bd2;
  background-color: #002b36;
  font-weight: bold;
}
.highlight .k, .highlight .kn, .highlight .kp, .highlight .kr, .highlight .kv {
  color: #6c71c4;
}
.highlight .kc {
  color: #cb4b16;
}
.highlight .kt {
  color: #cb4b16;
}
.highlight .kd {
  color: #cb4b16;
}
.highlight .s, .highlight .sb, .highlight .sc, .highlight .dl, .highlight .sd, .highlight .s2, .highlight .sh, .highlight .sx, .highlight .s1 {
  color: #859900;
}
.highlight .sa {
  color: #6c71c4;
}
.highlight .sr {
  color: #2aa198;
}
.highlight .si {
  color: #d33682;
}
.highlight .se {
  color: #d33682;
}
.highlight .nn {
  color: #b58900;
}
.highlight .nc {
  color: #b58900;
}
.highlight .no {
  color: #b58900;
}
.highlight .na {
  color: #268bd2;
}
.highlight .m, .highlight .mb, .highlight .mf, .highlight .mh, .highlight .mi, .highlight .il, .highlight .mo, .highlight .mx {
  color: #859900;
}
.highlight .ss {
  color: #859900;
}
    </style>
      <script src="javascripts/all-e033bdd3.js"></script>
      <script>
        $(function() { setupCodeCopy(); });
      </script>
    <link href="images/favicon-639cf3ec.ico" rel="icon" type="image/ico" />
  </head>
  <style>
    .copy-clipboard {
      top : 0;
      right : 0;
      max-width : 3em;
      position : absolute;
      float: right !important;
      width: 100%;
      height: 100%;
      margin-right: 1em;
    }
    .copy-clipboard svg{
      display: block;
      color: white;
      margin: 10px -10px 0 0;
      padding: 0.5rem 1rem ;
      font-size: .75rem;
    }
    .copy-clipboard svg path{
      fill: white;
    }
    .navbar-brand .badge {
      top:-1.25rem;
      position: relative;
    }
  </style>
  <body class="billing headroom headroom--top headroom--not-bottom" data-languages="[&quot;shell&quot;]" data-spy="scroll" data-target="#page-nav">
    <!-- header -->
    <header class="header header-sticky header-light" style="background-color: #3bb78f;background-image: linear-gradient(315deg, #3bb78f 0%, #0bab64 74%);">
      <div class="container-fluid">
        <div class="row">
          <nav class="navbar navbar-expand-lg navbar-light">
            <a href="#" class="navbar-brand"><img src="images/logo-4a7690d9.png" class="logo" alt="" /></a>
            <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
              <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarSupportedContent">
              <ul class="navbar-nav mr-auto"></ul>
              <ul class="navbar-nav">
                <li class="nav-item">
                  <a class="nav-link text-light font-weight-bold" href="https://tongdaivoip.com" target="_blank">Home</a>
                </li>
                <li class="nav-item dropdown">
                  <a class="nav-link text-light font-weight-bold dropdown-toggle active" href="#" id="dropdown-1" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                    Documentation
                  </a>
                  <div class="dropdown-menu" aria-labelledby="dropdown-1">
                    <a class="dropdown-item" href="/index.html">PBX API</a>
                    <a class="dropdown-item" href="/autocall.html">Autocall API</a>
                    <a class="dropdown-item" href="/billing.html">Billing API</a>
                    <a class="dropdown-item" href="/callcenter.html">CallCenter v1 API</a>
                  </div>
                </li>
                <li class="nav-item dropdown">
                  <a class="nav-link text-light font-weight-bold dropdown-toggle" href="#" id="dropdown-1" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                    SDK
                  </a>
                  <div class="dropdown-menu" aria-labelledby="dropdown-1">
                    <a class="dropdown-item" href="https://portal.tel4vn.com" target="_blank">Portal</a>
                    <a class="dropdown-item" href="https://portal.tel4vn.com/docs" target="_blank">Document</a>
                  </div>
                </li>
                <li class="nav-item">
                  <a class="nav-link text-light font-weight-bold" href="mailto:tech@tel4vn.com">Support</a>
                </li>
              </ul>
            </div>
          </nav>
        </div>
      </div>
    </header>
    <!-- / header -->
    <section class="pt-5">
      <div class="container-fluid">
        <div class="row justify-content-between">
          <!-- navigation -->
          <aside class="col-lg-3 col-xxl-2 p-3 doc-sidebar">
            <div class="sticky">
              <nav class="navbar navbar-vertical navbar-expand-lg navbar-light">
                <div>
                  <a href="#" class="navbar-brand">
                    <h3>Billing API<span class="badge badge-green ml-1">1.0.3</span></h3>
                  </a>
                  <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
                    <span class="navbar-toggler-icon"></span>
                  </button>
                </div>
                <div class="collapse navbar-collapse" id="navbarSupportedContent">
                  <ul id="page-nav" class="nav flex-column nav-vertical-2">
                      <li class="nav-item">
                        <a href="#introduction" class="nav-link" data-title="Introduction" >Introduction</a>
                        <div class="collapse" id="introduction-nav" data-parent="#page-nav">
                        </div>
                      </li>
                      <li class="nav-item">
                        <a href="#authentication" class="nav-link" data-title="Authentication"  data-toggle="collapse" role="button" aria-expanded="false" aria-controls="authentication" data-target="#authentication-nav" >Authentication</a>
                        <div class="collapse" id="authentication-nav" data-parent="#page-nav">
                            <ul class="nav flex-column">
                                <li class="nav-item">
                                  <a href="#get-access-token" class="nav-link" data-title="Get Access Token" parent-id="authentication-nav">Get Access Token</a>
                                </li>
                            </ul>
                        </div>
                      </li>
                      <li class="nav-item">
                        <a href="#customer" class="nav-link" data-title="Customer"  data-toggle="collapse" role="button" aria-expanded="false" aria-controls="customer" data-target="#customer-nav" >Customer</a>
                        <div class="collapse" id="customer-nav" data-parent="#page-nav">
                            <ul class="nav flex-column">
                                <li class="nav-item">
                                  <a href="#get-customers" class="nav-link" data-title="Get Customers" parent-id="customer-nav">Get Customers</a>
                                </li>
                                <li class="nav-item">
                                  <a href="#get-customer-by-id" class="nav-link" data-title="Get Customer By Id" parent-id="customer-nav">Get Customer By Id</a>
                                </li>
                                <li class="nav-item">
                                  <a href="#update-customer-credit" class="nav-link" data-title="Update Customer Credit" parent-id="customer-nav">Update Customer Credit</a>
                                </li>
                                <li class="nav-item">
                                  <a href="#add-customer-credit" class="nav-link" data-title="Add Customer Credit" parent-id="customer-nav">Add Customer Credit</a>
                                </li>
                                <li class="nav-item">
                                  <a href="#update-customer-status" class="nav-link" data-title="Update Customer Status" parent-id="customer-nav">Update Customer Status</a>
                                </li>
                                <li class="nav-item">
                                  <a href="#create-customer" class="nav-link" data-title="Create Customer" parent-id="customer-nav">Create Customer</a>
                                </li>
                            </ul>
                        </div>
                      </li>
                      <li class="nav-item">
                        <a href="#caller-id" class="nav-link" data-title="Caller ID"  data-toggle="collapse" role="button" aria-expanded="false" aria-controls="caller-id" data-target="#caller-id-nav" >Caller ID</a>
                        <div class="collapse" id="caller-id-nav" data-parent="#page-nav">
                            <ul class="nav flex-column">
                                <li class="nav-item">
                                  <a href="#create-caller-id" class="nav-link" data-title="Create Caller Id" parent-id="caller-id-nav">Create Caller Id</a>
                                </li>
                                <li class="nav-item">
                                  <a href="#update-caller-id-to-new-customer" class="nav-link" data-title="Update Caller Id To New Customer" parent-id="caller-id-nav">Update Caller Id To New Customer</a>
                                </li>
                            </ul>
                        </div>
                      </li>
                      <li class="nav-item">
                        <a href="#call" class="nav-link" data-title="Call"  data-toggle="collapse" role="button" aria-expanded="false" aria-controls="call" data-target="#call-nav" >Call</a>
                        <div class="collapse" id="call-nav" data-parent="#page-nav">
                            <ul class="nav flex-column">
                                <li class="nav-item">
                                  <a href="#call-logs" class="nav-link" data-title="Call Logs" parent-id="call-nav">Call Logs</a>
                                </li>
                            </ul>
                        </div>
                      </li>
                      <li class="nav-item">
                        <a href="#errors" class="nav-link" data-title="Errors" >Errors</a>
                        <div class="collapse" id="errors-nav" data-parent="#page-nav">
                        </div>
                      </li>
                  </ul>
                </div>
              </nav>
            </div>
          </aside>
          <!-- / navigation -->
          <!-- content -->
          <article class="col-lg-9 col-xxl-10 doc-content">
            <div class="row">
              <div class="col">
                <div class="doc-content-header">
                  <div class="row align-items-center">
                    <div class="col">
                      <nav aria-label="breadcrumb" class="align-items-center">
                        <a href="index.html" class="breadcrumb-back" title="Back"></a>
                        <ol class="breadcrumb d-none d-lg-inline-flex">
                          <li class="breadcrumb-item"><a href="index.html">Home</a></li>
                          <li class="breadcrumb-item active" aria-current="page">Billing API</li>
                        </ol>
                      </nav>
                    </div>
                  </div>
                </div>
              </div>
            </div>
            <div class="row justify-content-between doc-content-body">
              <article class="col-md-9 col-xxl-8">
                <h1 id='introduction' class='h1 font-weight-light'>Introduction</h1>
<p>Xin chào! Đây là bộ API tích hợp của hệ thống billing TEL4VN.</p>

<p>Nếu bạn cần thông tin để tích hợp hoặc cần hỗ trợ vui lòng liên hệ mail: tech@tel4vn.com.</p>

<p>Các thông tin như {API_HOST}, {API_KEY}, tài khoản admin, tài khoản SIP test sẽ được bên phía Tổng đài cung cấp.</p>
<h1 id='authentication' class='h1 font-weight-light'>Authentication</h1><h2 id='get-access-token' class='h2 font-weight-light'>Get Access Token</h2><div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="nt">-L</span> <span class="nt">-X</span> POST <span class="s1">'http://{API_HOST}/v1/auth/token'</span> <span class="se">\</span>
<span class="nt">-H</span> <span class="s1">'Content-Type: application/json'</span> <span class="se">\</span>
<span class="nt">--data-raw</span> <span class="s1">'{
    "api_key": "aaaaaaaa-bbbb-cccc-dddd-eeeeeeee"
}'</span>
</code></pre></div>
<blockquote>
<p>Response trả về:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"client_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"82ab1e65-aaeb-4ab7-bcd1-d8e4a8aae4ed"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"expired_in"</span><span class="p">:</span><span class="w"> </span><span class="mi">15483776</span><span class="p">,</span><span class="w">
    </span><span class="nl">"refresh_token"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="nl">"token"</span><span class="p">:</span><span class="w"> </span><span class="s2">"eyJhbGciOiJSU0EtT0FFUC0yNTYiLCJlbmMiOiJBMjU2R0NNIiwiaWF0IjoxNjEzNjMyNzc4fQ.dGhpcyBpcyB0ZXN0IGRhdGE="</span><span class="p">,</span><span class="w">
    </span><span class="nl">"token_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Bearer"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"user_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>PBX API sử dụng API Token để xác thực truy cập tới API. API Token bạn lấy từ service thông qua {API_KEY} được Tổng đài cung cấp.</p>

<p>Tất cả các API của PBX đều yêu cầu user cung cấp Token trong header giống phía dưới.</p>

<p><code>Authorization: Bearer {TOKEN}</code></p>

<div class="alert alert-success alert-dismissible fade show" role="alert">
Bạn vui lòng thay đổi <code>{TOKEN}</code> bằng token đã lấy được.
</div>
<h3 id='http-request' class='h3 font-weight-light'>HTTP Request</h3>
<p><code>POST http://{API_HOST}/v1/auth/token</code></p>
<h3 id='body' class='h3 font-weight-light'>Body</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>api_key</td>
<td>api_key có trong thông tin của account</td>
</tr>
</tbody></table>
<h1 id='customer' class='h1 font-weight-light'>Customer</h1><h2 id='get-customers' class='h2 font-weight-light'>Get Customers</h2><div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="nt">-L</span> <span class="nt">-X</span> GET <span class="s1">'http://{API_HOST}/v1/customer?limit=10&amp;offset=0'</span> <span class="se">\</span>
<span class="nt">-H</span> <span class="s1">'Authorization: Bearer {{TOKEN}}'</span>
<span class="nt">-H</span> <span class="s1">'Content-Type: application/json'</span>
</code></pre></div>
<blockquote>
<p>Response trả về:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
      </span><span class="nl">"creationdate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2021-05-31T17:17:35Z"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"firstusedate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2021-05-31T20:08:56Z"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"expirationdate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2031-05-31T10:15:27Z"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"enableexpire"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
      </span><span class="nl">"expiredays"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
      </span><span class="nl">"username"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0906237580"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"useralias"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12345790644"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"credit"</span><span class="p">:</span><span class="w"> </span><span class="mi">12343</span><span class="p">,</span><span class="w">
      </span><span class="nl">"activated"</span><span class="p">:</span><span class="w"> </span><span class="s2">"f"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
      </span><span class="nl">"lastuse"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2021-07-20T12:00:54Z"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"creditlimit"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nl">"id_group"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
      </span><span class="nl">"caller_ids"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="nl">"cid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0123456787"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"activated"</span><span class="p">:</span><span class="w"> </span><span class="s2">"t"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">]</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
      </span><span class="nl">"creationdate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2021-06-05T12:59:50Z"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"firstusedate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2021-06-05T13:01:58Z"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"expirationdate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2031-06-05T05:58:42Z"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"enableexpire"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
      </span><span class="nl">"expiredays"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
      </span><span class="nl">"username"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1234567890"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"useralias"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12345790645"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"credit"</span><span class="p">:</span><span class="w"> </span><span class="mi">12345</span><span class="p">,</span><span class="w">
      </span><span class="nl">"activated"</span><span class="p">:</span><span class="w"> </span><span class="s2">"f"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
      </span><span class="nl">"lastuse"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2021-07-27T19:07:18Z"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"creditlimit"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nl">"id_group"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
      </span><span class="nl">"caller_ids"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="nl">"cid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0123456788"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"activated"</span><span class="p">:</span><span class="w"> </span><span class="s2">"t"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="nl">"cid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0123456789"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"activated"</span><span class="p">:</span><span class="w"> </span><span class="s2">"t"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">]</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="nl">"limit"</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w">
  </span><span class="nl">"offset"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="nl">"total"</span><span class="p">:</span><span class="w"> </span><span class="mi">50</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>API dùng để lấy danh sách khách hàng.</p>
<h3 id='http-request-2' class='h3 font-weight-light'>HTTP Request</h3>
<p><code>GET http://{API_HOST}/v1/customer</code></p>
<h3 id='query-parameters' class='h3 font-weight-light'>Query Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
<th>Example</th>
</tr>
</thead><tbody>
<tr>
<td>limit</td>
<td>Giới hạn số lượng record trả về</td>
<td>10</td>
</tr>
<tr>
<td>offset</td>
<td>Vị trí record bắt đầu query</td>
<td>0</td>
</tr>
</tbody></table>
<h2 id='get-customer-by-id' class='h2 font-weight-light'>Get Customer By Id</h2><div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="nt">-L</span> <span class="nt">-X</span> GET <span class="s1">'http://{API_HOST}/v1/customer/1'</span> <span class="se">\</span>
<span class="nt">-H</span> <span class="s1">'Authorization: Bearer {{TOKEN}}'</span>
<span class="nt">-H</span> <span class="s1">'Content-Type: application/json'</span>
</code></pre></div>
<blockquote>
<p>Response trả về:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="nl">"creationdate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2021-05-31T17:17:35Z"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"firstusedate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2021-05-31T20:08:56Z"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"expirationdate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2031-05-31T10:15:27Z"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"enableexpire"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="nl">"expiredays"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="nl">"username"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0906237580"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"useralias"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12345790644"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"credit"</span><span class="p">:</span><span class="w"> </span><span class="mi">12343</span><span class="p">,</span><span class="w">
  </span><span class="nl">"activated"</span><span class="p">:</span><span class="w"> </span><span class="s2">"f"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="nl">"lastuse"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2021-07-20T12:00:54Z"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"creditlimit"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="nl">"id_group"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
  </span><span class="nl">"caller_ids"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"cid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0123456787"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"activated"</span><span class="p">:</span><span class="w"> </span><span class="s2">"t"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>API dùng để lấy thông tin khách hàng theo id.</p>
<h3 id='http-request-3' class='h3 font-weight-light'>HTTP Request</h3>
<p><code>GET http://{API_HOST}/v1/customer/{{customer_id}}</code></p>
<h3 id='query-parameters-2' class='h3 font-weight-light'>Query Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
<th>Example</th>
</tr>
</thead><tbody>
<tr>
<td>customer_id</td>
<td>Id hoặc username hoặc 1 trong các caller_id của khách hàng</td>
<td>0906237580</td>
</tr>
</tbody></table>
<h2 id='update-customer-credit' class='h2 font-weight-light'>Update Customer Credit</h2><div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="nt">-L</span> <span class="nt">-X</span> PUT <span class="s1">'http://{API_HOST}/v1/customer/{{customer_id}}/credit'</span> <span class="se">\</span>
<span class="nt">-H</span> <span class="s1">'Authorization: Bearer {{TOKEN}}'</span>
<span class="nt">-H</span> <span class="s1">'Content-Type: application/json'</span>
<span class="nt">--data-raw</span> <span class="s1">'{
    "credit" : 12
}'</span>
</code></pre></div>
<blockquote>
<p>Response trả về:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"successfully"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"credit"</span><span class="p">:</span><span class="w"> </span><span class="mi">12</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>API dùng để cập nhật số dư khách hàng theo id. (Log sẽ được lưu mỗi khi update thành công)</p>
<h3 id='http-request-4' class='h3 font-weight-light'>HTTP Request</h3>
<p><code>PUT http://{API_HOST}/v1/customer/{{customer_id}}/credit</code></p>
<h3 id='query-parameters-3' class='h3 font-weight-light'>Query Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
<th>Example</th>
</tr>
</thead><tbody>
<tr>
<td>customer_id</td>
<td>Id hoặc username hoặc 1 trong các caller_id của khách hàng</td>
<td>0906237580</td>
</tr>
</tbody></table>
<h3 id='body-2' class='h3 font-weight-light'>Body</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
<th>Example</th>
</tr>
</thead><tbody>
<tr>
<td>credit</td>
<td>Số dư mới của khách hàng</td>
<td>12</td>
</tr>
</tbody></table>
<h2 id='add-customer-credit' class='h2 font-weight-light'>Add Customer Credit</h2><div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="nt">-L</span> <span class="nt">-X</span> PUT <span class="s1">'http://{API_HOST}/v1/customer/{{customer_id}}/credit/add'</span> <span class="se">\</span>
<span class="nt">-H</span> <span class="s1">'Authorization: Bearer {{TOKEN}}'</span>
<span class="nt">-H</span> <span class="s1">'Content-Type: application/json'</span>
<span class="nt">--data-raw</span> <span class="s1">'{
    "credit" : 12
}'</span>
</code></pre></div>
<blockquote>
<p>Response trả về:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"successfully"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"credit"</span><span class="p">:</span><span class="w"> </span><span class="mi">15</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>API dùng để cập nhật số dư khách hàng theo id. Khác với API Update Credit phía trên, API này sẽ cộng thêm vào số dư hiện tại của khách hàng. Ví dụ: Khách hàng đang còn 3, credit truyền vào là 12 thì số dư của khách sẽ là 15. (Log sẽ được lưu mỗi khi update thành công)</p>
<h3 id='http-request-5' class='h3 font-weight-light'>HTTP Request</h3>
<p><code>PUT http://{API_HOST}/v1/customer/{{customer_id}}/credit/add</code></p>
<h3 id='query-parameters-4' class='h3 font-weight-light'>Query Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
<th>Example</th>
</tr>
</thead><tbody>
<tr>
<td>customer_id</td>
<td>Id hoặc username hoặc 1 trong các caller_id của khách hàng</td>
<td>0906237580</td>
</tr>
</tbody></table>
<h3 id='body-3' class='h3 font-weight-light'>Body</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
<th>Example</th>
</tr>
</thead><tbody>
<tr>
<td>credit</td>
<td>Số tiền cộng vào số dư của khách hàng</td>
<td>12</td>
</tr>
</tbody></table>
<h2 id='update-customer-status' class='h2 font-weight-light'>Update Customer Status</h2><div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="nt">-L</span> <span class="nt">-X</span> PUT <span class="s1">'http://{API_HOST}/v1/customer/{{customer_id}}/status'</span> <span class="se">\</span>
<span class="nt">-H</span> <span class="s1">'Authorization: Bearer {{TOKEN}}'</span>
<span class="nt">-H</span> <span class="s1">'Content-Type: application/json'</span>
<span class="nt">--data-raw</span> <span class="s1">'{
    "status" : "active"
}'</span>
</code></pre></div>
<blockquote>
<p>Response trả về:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"successfully"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>API dùng để cập nhật trạng thái khách hàng theo id. (Log sẽ được lưu mỗi khi update thành công)</p>
<h3 id='http-request-6' class='h3 font-weight-light'>HTTP Request</h3>
<p><code>PUT http://{API_HOST}/v1/customer/{{customer_id}}/status</code></p>
<h3 id='query-parameters-5' class='h3 font-weight-light'>Query Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
<th>Example</th>
</tr>
</thead><tbody>
<tr>
<td>customer_id</td>
<td>Id hoặc username hoặc 1 trong các caller_id của khách hàng</td>
<td>0906237580</td>
</tr>
</tbody></table>
<h3 id='body-4' class='h3 font-weight-light'>Body</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
<th>Example</th>
</tr>
</thead><tbody>
<tr>
<td>status</td>
<td>Trạng thái mới của khách hàng</td>
<td>active</td>
</tr>
</tbody></table>
<h3 id='status' class='h3 font-weight-light'>Status</h3>
<table><thead>
<tr>
<th>Name</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>active</td>
<td>Được phép hoạt động</td>
</tr>
<tr>
<td>expired</td>
<td>Hết hạn</td>
</tr>
<tr>
<td>cancelled</td>
<td>Bị huỷ</td>
</tr>
<tr>
<td>suspended</td>
<td>Tạm ngưng dịch vụ</td>
</tr>
</tbody></table>
<h2 id='create-customer' class='h2 font-weight-light'>Create Customer</h2><div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="nt">-L</span> <span class="nt">-X</span> POST <span class="s1">'http://{API_HOST}/v1/customer'</span> <span class="se">\</span>
<span class="nt">-H</span> <span class="s1">'Authorization: Bearer {{TOKEN}}'</span>
<span class="nt">-H</span> <span class="s1">'Content-Type: application/json'</span>
<span class="nt">--data-raw</span> <span class="s1">'{
    "type_paid": 0,
    "username": "5000000000",
    "password": "123abc123",
    "cid": "0899999999",
    "credit": 100
}'</span>
</code></pre></div>
<blockquote>
<p>Response trả về:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"successfully"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w">
  </span><span class="nl">"username"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5000000004"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"password"</span><span class="p">:</span><span class="w"> </span><span class="s2">"123abc123"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"cid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0899999999"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="nl">"sip"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="nl">"iax"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>API dùng để tạo khách hàng.</p>
<h3 id='http-request-7' class='h3 font-weight-light'>HTTP Request</h3>
<p><code>POST http://{API_HOST}/v1/customer</code></p>
<h3 id='body-5' class='h3 font-weight-light'>Body</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
<th>Example</th>
</tr>
</thead><tbody>
<tr>
<td>username</td>
<td>username của customer. Dãy bao gồm 10 số</td>
<td>5000000000</td>
</tr>
<tr>
<td>password</td>
<td>Mật khẩu</td>
<td>123abc123</td>
</tr>
<tr>
<td>type_paid</td>
<td>Loại thanh toán. Trả trước : 0, Trả sau : 1</td>
<td>1</td>
</tr>
<tr>
<td>cid</td>
<td>caller_id sẽ gắn vào cho khách hàng</td>
<td>0899999999</td>
</tr>
<tr>
<td>credit</td>
<td>Số tiền sẽ nạp vào tài khoản khách hàng</td>
<td>100</td>
</tr>
<tr>
<td>credit_limit</td>
<td>Số tiền sẽ giới hạn tài khoản khách hàng. Yêu cầu khi type_paid = 1</td>
<td>100</td>
</tr>
</tbody></table>
<h1 id='caller-id' class='h1 font-weight-light'>Caller ID</h1><h2 id='create-caller-id' class='h2 font-weight-light'>Create Caller Id</h2><div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="nt">-L</span> <span class="nt">-X</span> POST <span class="s1">'http://{API_HOST}/v1/callerid'</span> <span class="se">\</span>
<span class="nt">-H</span> <span class="s1">'Authorization: Bearer {{TOKEN}}'</span>
<span class="nt">-H</span> <span class="s1">'Content-Type: application/json'</span>
<span class="nt">--data-raw</span> <span class="s1">'{
    "user_id" : "10",
    "cid": "0899999999"
}'</span>
</code></pre></div>
<blockquote>
<p>Response trả về:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"cid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0899999999"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"successfully"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"user_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"10"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>API dùng để tạo khách hàng.</p>
<h3 id='http-request-8' class='h3 font-weight-light'>HTTP Request</h3>
<p><code>POST http://{API_HOST}/v1/callerid</code></p>
<h3 id='body-6' class='h3 font-weight-light'>Body</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
<th>Example</th>
</tr>
</thead><tbody>
<tr>
<td>user_id</td>
<td>id của khách hàng</td>
<td>10</td>
</tr>
<tr>
<td>cid</td>
<td>caller_id sẽ gắn vào cho khách hàng</td>
<td>0899999999</td>
</tr>
</tbody></table>
<h2 id='update-caller-id-to-new-customer' class='h2 font-weight-light'>Update Caller Id To New Customer</h2><div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="nt">-L</span> <span class="nt">-X</span> PUT <span class="s1">'http://{API_HOST}/v1/callerid/{{cid}}'</span> <span class="se">\</span>
<span class="nt">-H</span> <span class="s1">'Authorization: Bearer {{TOKEN}}'</span>
<span class="nt">-H</span> <span class="s1">'Content-Type: application/json'</span>
<span class="nt">--data-raw</span> <span class="s1">'{
    "user_id" : "11"
}'</span>
</code></pre></div>
<blockquote>
<p>Response trả về:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"cid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0899999999"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"successfully"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"user_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"11"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>API dùng để cập nhật caller_id cho khách hàng mới. (Log sẽ được lưu mỗi khi update thành công)</p>
<h3 id='http-request-9' class='h3 font-weight-light'>HTTP Request</h3>
<p><code>PUT http://{API_HOST}/v1/callerid/{{cid}}</code></p>
<h3 id='query-parameters-6' class='h3 font-weight-light'>Query Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
<th>Example</th>
</tr>
</thead><tbody>
<tr>
<td>cid</td>
<td>caller_id sẽ gắn vào cho khách hàng</td>
<td>0899999999</td>
</tr>
</tbody></table>
<h3 id='body-7' class='h3 font-weight-light'>Body</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
<th>Example</th>
</tr>
</thead><tbody>
<tr>
<td>user_id</td>
<td>id của khách hàng mới</td>
<td>11</td>
</tr>
</tbody></table>
<h1 id='call' class='h1 font-weight-light'>Call</h1><h2 id='call-logs' class='h2 font-weight-light'>Call Logs</h2><div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="nt">-L</span> <span class="nt">-X</span> GET <span class="s1">'http://{API_HOST}/v1/call/log?end_date=2021-06-01%2000:00:00&amp;start_date=2021-06-01%2023:59:59'</span> <span class="se">\</span>
<span class="nt">-H</span> <span class="s1">'Authorization: Bearer eyJhbGciOiJSU0EtT0FFUC0yNTYiLCJlbmMiOiJBMjU2R0NNIiwiaWF0IjoxNjEzNjMyNzc4fQ.dGhpcyBpcyB0ZXN0IGRhdGE='</span>
<span class="nt">-H</span> <span class="s1">'Content-Type: application/json'</span>
</code></pre></div>
<blockquote>
<p>Response trả về:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">285</span><span class="p">,</span><span class="w">
            </span><span class="nl">"destination"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0123456789"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"duration"</span><span class="p">:</span><span class="w"> </span><span class="mi">38</span><span class="p">,</span><span class="w">
            </span><span class="nl">"end_time"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2021-06-04T21:13:37Z"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">42</span><span class="p">,</span><span class="w">
            </span><span class="nl">"source"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0899123456"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"start_time"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2021-06-04T21:12:59Z"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"uniqueid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1622815952.3252"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">1600</span><span class="p">,</span><span class="w">
            </span><span class="nl">"destination"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0123456789"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"duration"</span><span class="p">:</span><span class="w"> </span><span class="mi">120</span><span class="p">,</span><span class="w">
            </span><span class="nl">"end_time"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2021-06-01T22:04:13Z"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">29</span><span class="p">,</span><span class="w">
            </span><span class="nl">"source"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0899123456"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"start_time"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2021-06-01T22:02:13Z"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"uniqueid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1622559713.3225"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="err">...</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"limit"</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w">
    </span><span class="nl">"offset"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"total"</span><span class="p">:</span><span class="w"> </span><span class="mi">15</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<blockquote>
<p>Error Response trả về:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"error"</span><span class="p">:</span><span class="w"> </span><span class="s2">"date range must be in 31 days"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>API dùng để lấy danh sách các cuộc gọi và số tiền theo khoảng thời gian.</p>
<h3 id='http-request-10' class='h3 font-weight-light'>HTTP Request</h3>
<p><code>GET http://{API_HOST}/v1/call/log</code></p>
<h3 id='query-parameters-7' class='h3 font-weight-light'>Query Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
<th>Example</th>
</tr>
</thead><tbody>
<tr>
<td>start_date</td>
<td>Tìm kiếm call log theo khoảng thời gian</td>
<td>2021-02-18 17:20:58</td>
</tr>
<tr>
<td>end_date</td>
<td>Tìm kiếm call log theo khoảng thời gian</td>
<td>2021-02-19 00:00:00</td>
</tr>
<tr>
<td>source</td>
<td>Đầu số thực hiện cuộc gọi</td>
<td>0899123456</td>
</tr>
<tr>
<td>limit</td>
<td>Giới hạn số lượng record trả về</td>
<td>10</td>
</tr>
<tr>
<td>offset</td>
<td>Vị trí record bắt đầu query</td>
<td>0</td>
</tr>
</tbody></table>
<h1 id='errors' class='h1 font-weight-light'>Errors</h1>
<p>PBX API sử dụng các mã lỗi sau</p>

<table><thead>
<tr>
<th>Error Code</th>
<th>Meaning</th>
</tr>
</thead><tbody>
<tr>
<td>400</td>
<td>Bad Request -- Your request is invalid.</td>
</tr>
<tr>
<td>401</td>
<td>Unauthorized -- Your API key is wrong.</td>
</tr>
<tr>
<td>403</td>
<td>Forbidden -- Your permission is not allow to access environment.</td>
</tr>
<tr>
<td>404</td>
<td>Not Found -- The specified kitten could not be found.</td>
</tr>
<tr>
<td>405</td>
<td>Method Not Allowed -- You tried to access a API with an invalid method.</td>
</tr>
<tr>
<td>500</td>
<td>Internal Server Error -- We had a problem with our server. Try again later.</td>
</tr>
<tr>
<td>503</td>
<td>Service Unavailable -- We&#39;re temporarily offline for maintenance. Please try again later.</td>
</tr>
</tbody></table>

              </article>
            </div>
          </article>
          <!-- / content -->
        </div>
      </div>
    </section>
    <script src="js/vendor.min-085c5346.js"></script>
    <script src="js/app-25d33ffd.js"></script>
    <script>
      jQuery(window).on('activate.bs.scrollspy', function ( e,obj) {
        try{
          let tmp = $(`a[href="${obj.relatedTarget}"]`)
          parentId= tmp.attr("parent-id")
          $(".collapse").removeClass("show")
          $(`#${parentId}`).addClass("show")
        } catch(error){
          console.log(error)
        }
      })
      $("table").addClass("table table-bordered")
      $("table th").addClass("bg-white text-dark font-weight-bold")
      $(".doc-content-body h1").prepend( "<hr/>" ).addClass("text-success font-weight-bold")
      $("p code").addClass("code")
      $("blockquote").each(function(index){
      tmp = $(this)
      $(this).replaceWith(
        `<blockquote><mark> > ${tmp.text()}</mark><blockquote/>`
      )
      })
      $("div.highlight").each(function(index){
      tmp = $(this)
      content = tmp.children("pre")[0]
      title = "Request Example"
      if ($(content).hasClass( "json" )){
      title = "Response Example"
      }
      $(this).replaceWith(
      `
      <div class="accordion accordion-stack mb-2" id="accordion-${index}">
      <div class="card">
      <div class="card-header" id="heading-${index}-1">
        <h5 class="mb-0">
          <button class="btn btn-link" type="button" data-toggle="collapse" data-target="#collapse-${index}-1" aria-expanded="false" aria-controls="collapse-${index}-1">
            ${title}
          </button>
        </h5>
      </div>
      
      <div id="collapse-${index}-1" class="collapse" aria-labelledby="heading-${index}-1" data-parent="#accordion-${index}">
        <div class="card-body bg-dark">
        <div class="mt-2">
        ${$(content).prop('outerHTML')}
        </div>
        </div>
      </div>
      </div>
      </div>
      `
      )
      })
      $(function () {
        $(".copy-clipboard svg").addClass("btn btn-secondary")
      })
    </script>
  </body>
</html>
